<!DOCTYPE html>
<meta charset="utf-8">
<style>

body,
svg {
  height: 100%;
  margin: 0;
  width: 100%;
  float: left;
}

path {
  fill: none;
  stroke-linejoin: round;
}

.land-glow {
  fill: #000;
  fill-opacity: .1;
  filter: url(#glow);
}

.land-fill {
  fill: #fff;
}

.state-boundary {
  stroke: #ccc;
  stroke-width: .70px;
}

.land-fill,
.county-boundary {
  stroke: #ccc;
  stroke-width: .7px;
}

</style>
<body>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://d3js.org/topojson.v0.min.js"></script>
<script src="js/albers-usa.js"></script>
<script>

var width = 800,
    height = 500;

var projection = albersUsa();

var path = d3.geo.path()
    .projection(projection);

var svg = d3.select("body").append("svg")
   // .attr("viewBox", "0 0 " + width + " " + height)
    .attr("width", width)
    .attr("height", height);

// svg.append("filter")
//     .attr("id", "glow")
//   .append("feGaussianBlur")
//     .attr("stdDeviation", 5);

d3.json("data/us.json", function(error, us) {
  // svg.append("path") // translucent outer glow
  //     .datum(topojson.object(us, us.objects.land))
  //     .attr("d", path)
  //     .attr("class", "land-glow");
    svg.selectAll("path")
      .data(topojson.object(us, us.objects.states))
    .enter().append("path")
      .attr("d", path)
      .attr("class", "state-boundary");

  // svg.append("path") // solid white fill
  //     .datum(topoSjson.object(us, us.objects.land))
  //     .attr("d", path)
  //     .attr("class", "land-fill");


  // svg.append("path") // thin grey stroke for internal county boundaries
  //     .datum(topojson.mesh(us, us.objects.counties, function(a, b) { return a.id !== b.id && (a.id / 1000 | 0) === (b.id / 1000 | 0); }))
  //     .attr("d", path)
  //     .attr("class", "county-boundary");

  // svg.append("path") // thick grey stroke for internal state boundaries
  //     .datum(topojson.mesh(us, us.objects.states, function(a, b) { return a.id !== b.id; }))
  //     .attr("d", path)
  //     .attr("class", "state-boundary");
});

</script>